<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DevisExpress974 — Publier une demande</title>

  <meta http-equiv="Cache-Control" content="no-store, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta name="theme-color" content="#ff3b0a" />

  <!-- CSS GLOBAL (IMPORTANT : le / au début pour que ça marche sur TOUTES les pages Netlify) -->
  <link rel="stylesheet" href="/styles.css?v=31" />

  <!-- Header injecté (DX header) -->
  <link rel="stylesheet" href="/assets/css/dx-header.css?v=1" />

  <!-- Styles spécifiques à la page -->
  <style>
    .pageWrap{ padding:18px 0 26px; }

    .heroCard{
      background: linear-gradient(180deg, rgba(255,209,64,.18), rgba(255,59,10,.06));
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .heroGrid2{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:14px;
      align-items:stretch;
    }
    @media (max-width:980px){ .heroGrid2{ grid-template-columns:1fr; } }

    .heroMini{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
      margin-top:12px;
    }
    @media (max-width:980px){ .heroMini{ grid-template-columns:1fr; } }

    .noteBox{
      background:#fff;
      border:1px solid var(--border);
      border-radius:14px;
      padding:12px 14px;
    }

    .tipsBox{
      background:#fff;
      border:1px solid var(--border);
      border-radius:14px;
      padding:14px;
      height:100%;
    }
    .tipsTitle{
      margin:0 0 8px;
      font-size:16px;
      font-weight:1100;
      letter-spacing:-.01em;
    }
    .tipsList{
      margin:0;
      padding-left:18px;
    }
    .tipsList li{
      margin:8px 0;
      color:var(--muted);
      font-weight:800;
      font-size:13px;
    }

    .formShell{ margin-top:16px; }
    .formCard{ background:#fff; border:1px solid var(--border); border-radius:14px; padding:14px; }

    .formRow{
      display:grid;
      grid-template-columns:260px 1fr;
      gap:10px;
      align-items:center;
      margin:10px 0;
    }
    @media (max-width:980px){ .formRow{ grid-template-columns:1fr; } }

    label{ font-weight:1000; }

    input[type="text"], input[type="email"], textarea, select{
      width:100%;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--border);
      outline:none;
      font:inherit;
      background:#fff;
    }
    textarea{ min-height:100px; resize:vertical; }

    input[type="file"]{
      width:100%;
      padding:10px 12px;
      border-radius:12px;
      border:1px dashed rgba(0,0,0,.18);
      background:#fff;
      cursor:pointer;
    }

    .help{ color:var(--muted); font-weight:800; font-size:13px; margin:6px 0 0; }
    .actions{ display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; }
    .errorLine{ display:none; margin-top:10px; font-weight:1000; color:#b00020; }
  </style>
</head>

<body>

  <!-- Slot du header injecté -->
  <div id="dx-header-slot"></div>

  <main class="container pageWrap">

    <!-- HERO -->
    <section class="heroCard pad">
      <div class="heroGrid2">
        <div>
          <h1 class="heroTitle" style="margin:0 0 6px;">Publier une demande</h1>
          <p class="heroSub" style="margin:0;">
            Les prestataires voient ta demande sur le mur, sans tes coordonnées. Ils débloquent pour te contacter.
          </p>

          <div class="heroMini">
            <div class="noteBox">
              <div class="sectionTitle" style="margin:0 0 6px; font-size:16px;">Coordonnées masquées</div>
              <div class="muted">sur le mur public</div>
            </div>
            <div class="noteBox">
              <div class="sectionTitle" style="margin:0 0 6px; font-size:16px;">Publication rapide</div>
              <div class="muted">en 2 minutes</div>
            </div>
          </div>
        </div>

        <aside class="tipsBox">
          <div class="tipsTitle">Pour recevoir des devis plus vite</div>
          <ul class="tipsList">
            <li>Sois précis : “fuite sous évier + photo”</li>
            <li>Indique la commune exacte</li>
            <li>Ajoute 1 à 3 photos (max)</li>
            <li>Si tu as un budget : même une fourchette</li>
          </ul>
        </aside>
      </div>
    </section>

    <!-- FORM -->
    <section class="card pad formShell">
      <h2 class="sectionTitle">Formulaire</h2>

      <div class="formCard">
        <form id="demandeForm" action="#" method="post" enctype="multipart/form-data">

          <div class="formRow">
            <label for="typeService">Type de service *</label>
            <select id="typeService" name="typeService" required>
              <option value="">Choisir un service…</option>
              <option>Bâtiment / Travaux</option>
              <option>Plomberie</option>
              <option>Électricité</option>
              <option>Jardinage</option>
              <option>Ménage / Nettoyage</option>
              <option>Informatique</option>
              <option>Beauté / Coiffure / Esthétique</option>
              <option>Coaching / Formation</option>
              <option>Auto / Moto - Réparation</option>
              <option>Auto / Moto - Vente</option>
              <option>Restauration / Traiteur</option>
              <option>Location de matériel</option>
              <option>Autre</option>
            </select>
          </div>

          <div class="formRow">
            <label for="autreService">Autre (si besoin)</label>
            <input id="autreService" name="autreService" type="text" placeholder="Optionnel" />
          </div>

          <div class="formRow">
            <label for="zone">Zone *</label>
            <select id="zone" name="zone" required>
              <option value="">Choisir une zone…</option>
              <option>Nord</option>
              <option>Sud</option>
              <option>Est</option>
              <option>Ouest</option>
            </select>
          </div>

          <div class="formRow">
            <label for="commune">Commune *</label>
            <select id="commune" name="commune" required>
              <option value="">Choisir une commune…</option>
              <option>Saint-Denis</option>
              <option>Sainte-Marie</option>
              <option>Saint-André</option>
              <option>Saint-Benoît</option>
              <option>Le Port</option>
              <option>Saint-Paul</option>
              <option>Saint-Leu</option>
              <option>Saint-Pierre</option>
              <option>Le Tampon</option>
              <option>Saint-Joseph</option>
            </select>
          </div>

          <div class="formRow">
            <label for="besoin">Décris ton besoin *</label>
            <textarea id="besoin" name="besoin" required placeholder="Ex : je cherche un plombier pour…"></textarea>
          </div>

          <div class="formRow">
            <label for="pieces">Pièces jointes (max 3)</label>
            <input id="pieces" name="pieces" type="file" accept=".jpg,.jpeg,.png,.pdf" multiple />
            <div class="help" style="grid-column:1 / -1;">
              Formats : JPG, PNG, PDF. Taille conseillée : 1,5 Mo max par fichier.
            </div>
          </div>

          <div class="formRow">
            <label for="budget">Budget (optionnel)</label>
            <input id="budget" name="budget" type="text" placeholder="Ex : 200" />
          </div>

          <div class="formRow">
            <label for="nomPrenom">Nom / prénom *</label>
            <input id="nomPrenom" name="nomPrenom" type="text" required />
          </div>

          <div class="formRow">
            <label for="telephone">Téléphone *</label>
            <input id="telephone" name="telephone" type="text" required placeholder="0692..." />
          </div>

          <div class="formRow">
            <label for="email">Email *</label>
            <input id="email" name="email" type="email" required placeholder="nom@email.com" />
          </div>

          <div class="actions">
            <button class="btn btnPrimary" type="submit">Publier</button>
            <a class="btn" href="/mur-demandes.html">Voir le mur</a>
          </div>

          <div id="fileError" class="errorLine">Tu peux joindre maximum 3 fichiers. Supprime-en un et réessaie.</div>
          <p class="help" style="margin-top:10px;">Les champs marqués * sont obligatoires.</p>
        </form>
      </div>
    </section>

  </main>

  <footer class="siteFooter">
    <div class="container footerRow">
      <div class="footLeft">© 2026 DevisExpress974 — Tous droits réservés.</div>
      <nav class="footLinks">
        <a href="/mentions-legales.html">Mentions légales</a>
        <a href="/cgv.html">CGV</a>
        <a href="/politique-confidentialite.html">Politique de confidentialité</a>
        <a href="/cookies.html">Cookies</a>
        <a href="/contact.html">Contact</a>
      </nav>
    </div>
  </footer>

  <!-- Scripts header injecté -->
  <script src="/assets/js/dx-include-header.js?v=1"></script>
  <script src="/assets/js/dx-header.js?v=1"></script>

  <!-- Optionnel : si ton site utilise api.js pour envoyer la demande -->
  <script src="/api.js?v=1"></script>

  <!-- Sécurité : limiter à 3 fichiers -->
  <script>
    (function(){
      const input = document.getElementById('pieces');
      const err = document.getElementById('fileError');
      if(!input) return;

      function hideErr(){ err.style.display = 'none'; }

      input.addEventListener('click', hideErr);
      input.addEventListener('change', () => {
        const files = input.files ? Array.from(input.files) : [];
        if (files.length > 3) {
          err.style.display = 'block';
          input.value = '';
        } else {
          hideErr();
        }
      });
    })();
  </script>

</body>
</html>
